{"$schema":"http://json-schema.org/draft/2020-12/schema","$id":"https://github.com/kyma-project/hydroform/function/pkg/workspace/cfg","$ref":"#/$defs/Cfg","$defs":{"APIRule":{"properties":{"Name":{"type":"string"},"Gateway":{"type":"string"},"Service":{"$ref":"#/$defs/Service"},"Rules":{"items":{"$ref":"#/$defs/Rule"},"type":"array"}},"additionalProperties":false,"type":"object","required":["Name","Gateway","Service","Rules"]},"AccessStrategie":{"properties":{"Config":{"$ref":"#/$defs/AccessStrategieConfig"},"Handler":{"type":"string","enum":["oauth2_introspection","jwt","noop","allow"],"default":"allow"}},"additionalProperties":false,"type":"object","required":["Config","Handler"]},"AccessStrategieConfig":{"properties":{"JwksUrls":{"items":{"type":"string"},"type":"array"},"TrustedIssuers":{"items":{"type":"string"},"type":"array"},"RequiredScope":{"items":{"type":"string"},"type":"array"}},"additionalProperties":false,"type":"object","required":["JwksUrls","TrustedIssuers","RequiredScope"]},"Cfg":{"properties":{"Name":{"type":"string"},"Namespace":{"type":"string"},"Labels":{"patternProperties":{".*":{"type":"string"}},"type":"object"},"Runtime":{"type":"string","enum":["nodejs14","nodejs16","python39"]},"RuntimeImageOverride":{"type":"string"},"Source":{"$ref":"#/$defs/Source"},"Resources":{"$ref":"#/$defs/Resources"},"Subscriptions":{"items":{"$ref":"#/$defs/Subscription"},"type":"array"},"Env":{"items":{"$ref":"#/$defs/EnvVar"},"type":"array"},"APIRules":{"items":{"$ref":"#/$defs/APIRule"},"type":"array"}},"additionalProperties":false,"type":"object","required":["Name","Namespace","Labels","Runtime","RuntimeImageOverride","Source","Resources","Subscriptions","Env","APIRules"]},"ConfigMapKeySelector":{"properties":{"Name":{"type":"string"},"Key":{"type":"string"}},"additionalProperties":false,"type":"object","required":["Name","Key"]},"EnvVar":{"properties":{"Name":{"type":"string"},"Value":{"type":"string"},"ValueFrom":{"$ref":"#/$defs/EnvVarSource"}},"additionalProperties":false,"type":"object","required":["Name","Value","ValueFrom"]},"EnvVarSource":{"properties":{"ConfigMapKeyRef":{"$ref":"#/$defs/ConfigMapKeySelector"},"SecretKeyRef":{"$ref":"#/$defs/SecretKeySelector"}},"additionalProperties":false,"type":"object","required":["ConfigMapKeyRef","SecretKeyRef"]},"EventFilter":{"properties":{"EventSource":{"$ref":"#/$defs/EventSource"},"EventType":{"$ref":"#/$defs/EventType"}},"additionalProperties":false,"type":"object","required":["EventSource","EventType"]},"EventSource":{"properties":{"Property":{"type":"string","default":"source"},"Type":{"type":"string","default":"exact"},"Value":{"type":"string","default":"\"\""}},"additionalProperties":false,"type":"object","required":["Property","Type","Value"]},"EventType":{"properties":{"Property":{"type":"string","default":"type"},"Type":{"type":"string","default":"exact"},"Value":{"type":"string"}},"additionalProperties":false,"type":"object","required":["Property","Type","Value"]},"Filter":{"properties":{"Dialect":{"type":"string"},"Filters":{"items":{"$ref":"#/$defs/EventFilter"},"type":"array"}},"additionalProperties":false,"type":"object","required":["Dialect","Filters"]},"Resources":{"properties":{"Limits":{"type":"object"},"Requests":{"type":"object"}},"additionalProperties":false,"type":"object","required":["Limits","Requests"]},"Rule":{"properties":{"Path":{"type":"string"},"Methods":{"items":{"type":"string"},"type":"array"},"AccessStrategies":{"items":{"$ref":"#/$defs/AccessStrategie"},"type":"array"}},"additionalProperties":false,"type":"object","required":["Path","Methods","AccessStrategies"]},"SecretKeySelector":{"properties":{"Name":{"type":"string"},"Key":{"type":"string"}},"additionalProperties":false,"type":"object","required":["Name","Key"]},"Service":{"properties":{"Host":{"type":"string"},"Port":{"type":"integer"}},"additionalProperties":false,"type":"object","required":["Host","Port"]},"Source":{"properties":{"Type":{"type":"string","enum":["inline","git"]},"SourcePath":{"type":"string"},"SourceHandlerName":{"type":"string"},"DepsHandlerName":{"type":"string"},"URL":{"type":"string"},"Reference":{"type":"string"},"BaseDir":{"type":"string"},"CredentialsSecretName":{"type":"string"},"CredentialsType":{"type":"string"}},"additionalProperties":false,"type":"object","required":["Type","SourcePath","SourceHandlerName","DepsHandlerName","URL","Reference","BaseDir","CredentialsSecretName","CredentialsType"]},"Subscription":{"properties":{"Name":{"type":"string"},"Protocol":{"type":"string","default":"\"\""},"Filter":{"$ref":"#/$defs/Filter"}},"additionalProperties":false,"type":"object","required":["Name","Protocol","Filter"]}}}